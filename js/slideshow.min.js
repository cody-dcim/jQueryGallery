(function(){var e=140,t=$("#slideshow");t.find(".thumb").on("click",function(){s($(this).data("thumb-id"))});t.find("#prev-btn").on("click",function(){n("previous")});t.find("#next-btn").on("click",function(){n("next")});t.find("#fullscreen-btn").on("click",function(){if(t.hasClass("fullscreen")){a()}else{u()}});$(document).keydown(function(e){switch(e.keyCode){case 37:n("previous");break;case 39:n("next");break;default:break}});var n=function(e){var n=t.find(".img-wrapper.active");if(n.length===0){n=t.find(".img-wrapper:last")}if(e==="next"){r(n)}else{i(n)}};var r=function(e){var n=e.next(".img-wrapper").length?e.next(".img-wrapper"):t.find(".img-wrapper:first"),r=t.find('[data-thumb-id="'+n.data("img-id")+'"]');t.find(".thumb").removeClass("active");r.addClass("active");e.addClass("last-active");o(r);n.css({opacity:0}).addClass("active").animate({opacity:1},1e3,function(){e.removeClass("active last-active")})};var i=function(e){var n=e.prev(".img-wrapper").length?e.prev(".img-wrapper"):t.find(".img-wrapper:last"),r=t.find('[data-thumb-id="'+n.data("img-id")+'"]');t.find(".thumb").removeClass("active");r.addClass("active");e.addClass("last-active");o(r);n.css({opacity:0}).addClass("active").animate({opacity:1},1e3,function(){e.removeClass("active last-active")})};var s=function(e){var n=t.find('[data-img-id="'+e+'"]'),r=t.find('[data-thumb-id="'+e+'"]'),i=t.find(".img-wrapper.active");t.find(".thumb").removeClass("active");i.addClass("last-active").removeClass("active");r.addClass("active");o(r);n.css({opacity:0}).addClass("active").animate({opacity:1},1e3,function(){i.removeClass("last-active")})};var o=function(n){var r,i,s=n.position().left+parseInt(n.css("margin-left"),10);if(s<0){i=t.find(".thumb:first");r=parseInt(i.css("margin-left"),10)-s;i.animate({marginLeft:r},1e3)}else{s=n.position().left;var o=s+e-n.parent().width();if(o>0){i=t.find(".thumb:first");r=parseInt(i.css("margin-left"),10)-o;i.animate({marginLeft:r},1e3)}}};var u=function(){t.addClass("fullscreen").find("#fullscreen-btn i").removeClass("fa-expand").addClass("fa-compress")};var a=function(){t.removeClass("fullscreen").find("#fullscreen-btn i").removeClass("fa-compress").addClass("fa-expand")}})()